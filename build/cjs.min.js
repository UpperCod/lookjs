"use strict";function blocks(t,e,r){for(var o=0,n=0,i="",a=[],c=0;c<t.length;c++)t[c]!==e?t[c]!==r?o||(i+=t[c]):--o||(a=a.concat({parent:i,content:t.slice(n,c)}),i=""):o++||(n=c+1);return a}function join(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.join("")}function clearSpace(t){return t.replace(/([\n\s\t]+)/g," ").replace(/^\s+|\s+$/g,"")}function createId(t,e){void 0===t&&(t=""),void 0===e&&(e=5);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=t;e;)--e,o+=r.charAt(Math.floor(Math.random()*r.length));return config.ids.indexOf(o)>-1?createId(t,e+1):(config.ids=config.ids.concat(o),o)}function createTag(){return config.tag?config.tag:(config.tag=document.createElement("style"),config.tag.dataset.componentsStyles="",document.head.appendChild(config.tag),config.tag)}function create(t){return void 0===t&&(t="div"),function(e){return e=new Sheet(e,createId("S"),config.prefix,createTag()),function(r){return preact.h(Theme,Object.assign({},r,{_root:e.root,_tag:t,_prefix:config.prefix,_load:function(){return e.load()}}))}}}var preact=require("preact"),Sheet=function(t,e,r,o){this.root=e,this.blocks=blocks(t,"{","}"),this.rules=[],this.prefix=r,this.tag=o};Sheet.prototype.insert=function(t){if(this.rules.indexOf(t)<0)try{var e=this.tag.sheet;e.insertRule(t,e.rules.length),this.rules.push(t)}catch(e){throw t}},Sheet.prototype.replaceRoot=function(t){var e=this;return t.replace(/\:root(Name){0,1}(?:\[([^\]]+)\]){0,}/g,function(t,r,o){var n=join(r?"":".",e.root);return o&&(n=join(n,"[",e.prefix,o,"]")),n})},Sheet.prototype.replaceGlobal=function(t){return t.replace(/:global /g,"")},Sheet.prototype.replace=function(t,e){t=t.match(/([^\,]+)/g).map(function(t){return t=clearSpace(t),/^(:global|:root)/.test(t)?t:join(":root ",t)}).join(", ");var r=join(t,"{",e,"}");return r=this.replaceRoot(r),r=this.replaceGlobal(r)},Sheet.prototype.load=function(){var t=this;this.isLoad||(this.blocks.forEach(function(e){var r=e.parent,o=e.content;r=clearSpace(r);var n=r.match(/\@[^\s\t\n\(]+/g);if(n)switch(n[0]){case"@media":o=blocks(o,"{","}").map(function(e){var r=e.parent,o=e.content;return t.replace(clearSpace(r),o)}).join("\n"),t.insert(join(r,"{",o,"}"));break;case"@keyframes":t.insert(join(t.replaceRoot(r),"{",o,"}"));break;default:t.insert(join(r,"{",o,"}"))}else t.insert(t.replace(r,o))}),this.isLoad=!0)};var config={prefix:"data-state-",tag:!1,ids:[]},Theme=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setProps=function(t,e){void 0===e&&(e={});for(var r in t)/^(children|_style|_tag|_prefix|_load|_root)$/.test(r)||(e[/^on/.test(r)?r:join(t._prefix,r)]=t[r]);return e},e.prototype.render=function(){var t=this.props;return t._load(),preact.h(t._tag||"div",this.setProps(t,{class:t._root,children:t.children}))},e}(preact.Component),index=create;module.exports=index;