(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact")):"function"==typeof define&&define.amd?define(["preact"],e):t.rootCss=e(t.preact)})(this,function(t){"use strict";function e(t,e,r){for(var o=0,n=0,i="",a=[],c=0;c<t.length;c++)t[c]!==e?t[c]!==r?o||(i+=t[c]):--o||(a=a.concat({parent:i,content:t.slice(n,c)}),i=""):o++||(n=c+1);return a}function r(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.join("")}function o(t){return t.replace(/([\n\s\t]+)/g," ").replace(/^\s+|\s+$/g,"")}function n(t,e){void 0===t&&(t=""),void 0===e&&(e=5);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=t;e;)--e,o+=r.charAt(Math.floor(Math.random()*r.length));return s.ids.indexOf(o)>-1?n(t,e+1):(s.ids=s.ids.concat(o),o)}function i(){return s.tag?s.tag:(s.tag=document.createElement("style"),s.tag.dataset.componentsStyles="",document.head.appendChild(s.tag),s.tag)}function a(e){return void 0===e&&(e="div"),function(r){return r=new c(r,n("S"),s.prefix,i()),function(o){return t.h(p,Object.assign({},o,{_root:r.root,_tag:e,_prefix:s.prefix,_load:function(){return r.load()}}))}}}var c=function(t,r,o,n){this.root=r,this.blocks=e(t,"{","}"),this.rules=[],this.prefix=o,this.tag=n};c.prototype.insert=function(t){if(this.rules.indexOf(t)<0)try{var e=this.tag.sheet;e.insertRule(t,e.rules.length),this.rules.push(t)}catch(e){throw t}},c.prototype.replaceRoot=function(t){var e=this;return t.replace(/\:root(Name){0,1}(?:\[([^\]]+)\]){0,}/g,function(t,o,n){var i=r(o?"":".",e.root);return n&&(i=r(i,"[",e.prefix,n,"]")),i})},c.prototype.replaceGlobal=function(t){return t.replace(/:global /g,"")},c.prototype.replace=function(t,e){t=t.match(/([^\,]+)/g).map(function(t){return t=o(t),/^(:global|:root)/.test(t)?t:r(":root ",t)}).join(", ");var n=r(t,"{",e,"}");return n=this.replaceRoot(n),n=this.replaceGlobal(n)},c.prototype.load=function(){var t=this;this.isLoad||(this.blocks.forEach(function(n){var i=n.parent,a=n.content;i=o(i);var c=i.match(/\@[^\s\t\n\(]+/g);if(c)switch(c[0]){case"@media":a=e(a,"{","}").map(function(e){var r=e.parent,n=e.content;return t.replace(o(r),n)}).join("\n"),t.insert(r(i,"{",a,"}"));break;case"@keyframes":t.insert(r(t.replaceRoot(i),"{",a,"}"));break;default:t.insert(r(i,"{",a,"}"))}else t.insert(t.replace(i,a))}),this.isLoad=!0)};var s={prefix:"data-state-",tag:!1,ids:[]},p=function(e){function o(){e.apply(this,arguments)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.setProps=function(t,e){void 0===e&&(e={});for(var o in t)/^(children|_style|_tag|_prefix|_load|_root)$/.test(o)||(e[/^on/.test(o)?o:r(t._prefix,o)]=t[o]);return e},o.prototype.render=function(){var e=this.props;return e._load(),t.h(e._tag||"div",this.setProps(e,{class:e._root,children:e.children}))},o}(t.Component),u=a;return u});